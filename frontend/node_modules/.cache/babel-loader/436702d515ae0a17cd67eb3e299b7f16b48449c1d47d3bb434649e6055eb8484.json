{"ast":null,"code":"export default {\n  name: \"setPassword\",\n  props: {\n    value: String,\n    size: String,\n    placeholder: {\n      type: String,\n      default: \"Enter password, length is 6-20 characters\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    maxlength: {\n      type: Number,\n      default: 20\n    }\n  },\n  data() {\n    return {\n      currentValue: this.value,\n      tipStyle: \"password-tip-none\",\n      strengthValue: 0,\n      progressStatus: \"normal\",\n      strength: \"None\",\n      grade: 0\n    };\n  },\n  methods: {\n    checkStrengthValue(v) {\n      // Password strength rating, maximum 5\n      let grade = 0;\n      if (/\\d/.test(v)) {\n        grade++; // Digit\n      }\n\n      if (/[a-z]/.test(v)) {\n        grade++; // Lowercase letter\n      }\n\n      if (/[A-Z]/.test(v)) {\n        grade++; // Uppercase letter\n      }\n\n      if (/\\W/.test(v)) {\n        grade++; // Special character\n      }\n\n      if (v.length >= 10) {\n        grade++;\n      }\n      this.grade = grade;\n      return grade;\n    },\n    strengthChange() {\n      if (!this.currentValue) {\n        this.tipStyle = \"password-tip-none\";\n        this.strength = \"None\";\n        this.strengthValue = 0;\n        return;\n      }\n      let grade = this.checkStrengthValue(this.currentValue);\n      if (grade <= 1) {\n        this.progressStatus = \"wrong\";\n        this.tipStyle = \"password-tip-weak\";\n        this.strength = \"Weak\";\n        this.strengthValue = 33;\n      } else if (grade >= 2 && grade <= 4) {\n        this.progressStatus = \"normal\";\n        this.tipStyle = \"password-tip-middle\";\n        this.strength = \"Medium\";\n        this.strengthValue = 66;\n      } else {\n        this.progressStatus = \"success\";\n        this.tipStyle = \"password-tip-strong\";\n        this.strength = \"Strong\";\n        this.strengthValue = 100;\n      }\n    },\n    handleChange(v) {\n      this.strengthChange();\n      this.$emit(\"input\", this.currentValue);\n      this.$emit(\"on-change\", this.currentValue, this.grade, this.strength);\n    },\n    setCurrentValue(value) {\n      if (value === this.currentValue) {\n        return;\n      }\n      this.currentValue = value;\n      this.strengthChange();\n      this.$emit(\"on-change\", this.currentValue, this.grade, this.strength);\n    }\n  },\n  watch: {\n    value(val) {\n      this.setCurrentValue(val);\n    }\n  }\n};","map":{"version":3,"names":["name","props","value","String","size","placeholder","type","default","disabled","Boolean","readonly","maxlength","Number","data","currentValue","tipStyle","strengthValue","progressStatus","strength","grade","methods","checkStrengthValue","v","test","length","strengthChange","handleChange","$emit","setCurrentValue","watch","val"],"sources":["src/views/template/set-password.vue"],"sourcesContent":["<template>\n    <div class=\"set-password\">\n        <Poptip transfer trigger=\"focus\" placement=\"right\" width=\"250\">\n            <Input type=\"password\" password :maxlength=\"maxlength\" v-model=\"currentValue\" @on-change=\"handleChange\" :size=\"size\" :placeholder=\"placeholder\" :disabled=\"disabled\" :readonly=\"readonly\" />\n            <div :class=\"tipStyle\" slot=\"content\">\n                <div class=\"words\">Strength: {{strength}}</div>\n                <Progress :percent=\"strengthValue\" :status=\"progressStatus\" hide-info style=\"margin: 13px 0;\" />\n            </div>\n        </Poptip>\n    </div>\n    </template>\n    \n    <script>\n    export default {\n        name: \"setPassword\",\n        props: {\n            value: String,\n            size: String,\n            placeholder: {\n                type: String,\n                default: \"Enter password, length is 6-20 characters\"\n            },\n            disabled: {\n                type: Boolean,\n                default: false\n            },\n            readonly: {\n                type: Boolean,\n                default: false\n            },\n            maxlength: {\n                type: Number,\n                default: 20\n            }\n        },\n        data() {\n            return {\n                currentValue: this.value,\n                tipStyle: \"password-tip-none\",\n                strengthValue: 0,\n                progressStatus: \"normal\",\n                strength: \"None\",\n                grade: 0\n            };\n        },\n        methods: {\n            checkStrengthValue(v) {\n                // Password strength rating, maximum 5\n                let grade = 0;\n                if (/\\d/.test(v)) {\n                    grade++; // Digit\n                }\n                if (/[a-z]/.test(v)) {\n                    grade++; // Lowercase letter\n                }\n                if (/[A-Z]/.test(v)) {\n                    grade++; // Uppercase letter\n                }\n                if (/\\W/.test(v)) {\n                    grade++; // Special character\n                }\n                if (v.length >= 10) {\n                    grade++;\n                }\n                this.grade = grade;\n                return grade;\n            },\n            strengthChange() {\n                if (!this.currentValue) {\n                    this.tipStyle = \"password-tip-none\";\n                    this.strength = \"None\";\n                    this.strengthValue = 0;\n                    return;\n                }\n                let grade = this.checkStrengthValue(this.currentValue);\n                if (grade <= 1) {\n                    this.progressStatus = \"wrong\";\n                    this.tipStyle = \"password-tip-weak\";\n                    this.strength = \"Weak\";\n                    this.strengthValue = 33;\n                } else if (grade >= 2 && grade <= 4) {\n                    this.progressStatus = \"normal\";\n                    this.tipStyle = \"password-tip-middle\";\n                    this.strength = \"Medium\";\n                    this.strengthValue = 66;\n                } else {\n                    this.progressStatus = \"success\";\n                    this.tipStyle = \"password-tip-strong\";\n                    this.strength = \"Strong\";\n                    this.strengthValue = 100;\n                }\n            },\n            handleChange(v) {\n                this.strengthChange();\n                this.$emit(\"input\", this.currentValue);\n                this.$emit(\"on-change\", this.currentValue, this.grade, this.strength);\n            },\n            setCurrentValue(value) {\n                if (value === this.currentValue) {\n                    return;\n                }\n                this.currentValue = value;\n                this.strengthChange();\n                this.$emit(\"on-change\", this.currentValue, this.grade, this.strength);\n            }\n        },\n        watch: {\n            value(val) {\n                this.setCurrentValue(val);\n            }\n        }\n    };\n    </script>\n    \n    <style lang=\"less\">\n    .set-password .ivu-poptip,\n    .set-password .ivu-poptip-rel {\n        display: block;\n    }\n    \n    .password-tip-none {\n        padding: 1vh 0;\n    }\n    \n    .password-tip-weak {\n        padding: 1vh 0;\n    \n        .words {\n            color: #ed3f14;\n        }\n    }\n    \n    .password-tip-middle {\n        padding: 1vh 0;\n    \n        .words {\n            color: #2d8cf0;\n        }\n    }\n    \n    .password-tip-strong {\n        padding: 1vh 0;\n    \n        .words {\n            color: #52c41a;\n        }\n    }\n    </style>\n    "],"mappings":"AAaA;EACAA,IAAA;EACAC,KAAA;IACAC,KAAA,EAAAC,MAAA;IACAC,IAAA,EAAAD,MAAA;IACAE,WAAA;MACAC,IAAA,EAAAH,MAAA;MACAI,OAAA;IACA;IACAC,QAAA;MACAF,IAAA,EAAAG,OAAA;MACAF,OAAA;IACA;IACAG,QAAA;MACAJ,IAAA,EAAAG,OAAA;MACAF,OAAA;IACA;IACAI,SAAA;MACAL,IAAA,EAAAM,MAAA;MACAL,OAAA;IACA;EACA;EACAM,KAAA;IACA;MACAC,YAAA,OAAAZ,KAAA;MACAa,QAAA;MACAC,aAAA;MACAC,cAAA;MACAC,QAAA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACAC,mBAAAC,CAAA;MACA;MACA,IAAAH,KAAA;MACA,SAAAI,IAAA,CAAAD,CAAA;QACAH,KAAA;MACA;;MACA,YAAAI,IAAA,CAAAD,CAAA;QACAH,KAAA;MACA;;MACA,YAAAI,IAAA,CAAAD,CAAA;QACAH,KAAA;MACA;;MACA,SAAAI,IAAA,CAAAD,CAAA;QACAH,KAAA;MACA;;MACA,IAAAG,CAAA,CAAAE,MAAA;QACAL,KAAA;MACA;MACA,KAAAA,KAAA,GAAAA,KAAA;MACA,OAAAA,KAAA;IACA;IACAM,eAAA;MACA,UAAAX,YAAA;QACA,KAAAC,QAAA;QACA,KAAAG,QAAA;QACA,KAAAF,aAAA;QACA;MACA;MACA,IAAAG,KAAA,QAAAE,kBAAA,MAAAP,YAAA;MACA,IAAAK,KAAA;QACA,KAAAF,cAAA;QACA,KAAAF,QAAA;QACA,KAAAG,QAAA;QACA,KAAAF,aAAA;MACA,WAAAG,KAAA,SAAAA,KAAA;QACA,KAAAF,cAAA;QACA,KAAAF,QAAA;QACA,KAAAG,QAAA;QACA,KAAAF,aAAA;MACA;QACA,KAAAC,cAAA;QACA,KAAAF,QAAA;QACA,KAAAG,QAAA;QACA,KAAAF,aAAA;MACA;IACA;IACAU,aAAAJ,CAAA;MACA,KAAAG,cAAA;MACA,KAAAE,KAAA,eAAAb,YAAA;MACA,KAAAa,KAAA,mBAAAb,YAAA,OAAAK,KAAA,OAAAD,QAAA;IACA;IACAU,gBAAA1B,KAAA;MACA,IAAAA,KAAA,UAAAY,YAAA;QACA;MACA;MACA,KAAAA,YAAA,GAAAZ,KAAA;MACA,KAAAuB,cAAA;MACA,KAAAE,KAAA,mBAAAb,YAAA,OAAAK,KAAA,OAAAD,QAAA;IACA;EACA;EACAW,KAAA;IACA3B,MAAA4B,GAAA;MACA,KAAAF,eAAA,CAAAE,GAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}